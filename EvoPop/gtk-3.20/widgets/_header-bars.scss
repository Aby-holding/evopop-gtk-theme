/***************
 * Header Bars *
 ***************/
 %headerbar,
 headerbar {
   padding:0 8px;
   border: none;

   background-color: $headerbar_bg_color;
   color: $headerbar_fg_color;

   &:backdrop {
     background-color: $headerbar_bg_color;
     color: $backdrop_headerbar_fg_color;
     transition: $backdrop_transition;
   }

   .title {
     font-weight: bold;
     padding-left: 12px;
     padding-right: 12px;
     color: $headerbar_fg_color;

     &:backdrop {
       color:$backdrop_headerbar_fg_color;
     }
   }

   .subtitle {
     font-size: smaller;
     padding-left: 12px;
     padding-right: 12px;
     color: $headerbar_fg_color;

     @extend .dim-label;
   }

   //Buttons
   @keyframes underline {
     from {
       box-shadow: none;
     }
     to {
       box-shadow: inset 0 -3px 0 0 darken($selected_bg_color,5%);
     }
   }

   button {
     background-image: none;
     background-color: transparent;
     color: $headerbar_fg_color;
     border-radius: 0;
     box-shadow: none;
     min-height: 34px;
     padding: 0;
     margin: 0;

     &:backdrop {
       background-image: none;
       background-color: transparent;
       color: $headerbar_fg_color;
       border-radius: 0;
       box-shadow: none;
     }

     &:disabled {
       color: $insensitive_fg_color;
     }

     &.back-button,
     &.suggested-action,
     &.menu-button,
     &.text-button,
     &.image-button,
     &.linked,
     &.flat {
       border: none;
       border-radius: 0;
       border-right-width: 0;

       &:hover {
         border: none;
         border-radius: 0;
       }
     }

     &:hover {
       background-color: transparent;
       @include lines(up);
     }

     &:active,
     &:checked {
       background-color: transparent;
       @include lines(up);
       &:backdrop {
         @include lines(up);
       }
     }

     label,
     image {
       color: $headerbar_fg_color;

       &:backdrop,
       &:disabled {
         color: $backdrop_headerbar_fg_color;
         -gtk-image-effect: dim;
       }
     }

     &.suggested-action,
     &.destructive_color {
       border-radius: 3px;
       min-height: 28px;
       margin-top: 3px;
       margin-bottom: 3px;

       &:hover,
       &:active,
       &:checked {
         border-radius: 3px;
         animation: none;
         box-shadow: inset 0px -1px 0px 0px rgba(0,0,0,0.2),inset 0px 1px 0px 0px rgba(255,255,255,0.2);

       }
     }
   }

   .linked {
     & button {
       border-right: none;

       &:first-child,
       &:last-child,
       &:hover:first-child,
       &:hover:last-child,
       &:active:first-child,
       &:active:last-child,
       &:checked:first-child,
       &:checked:last-child  {
         border-radius: 0;
       }
     }
   }

   // Separator
   separator {
     color: transparent;
     background-color: transparent;
   }
 }

.titlebar {
  border-radius: 4px 4px 0 0;
  box-shadow: inset 0 1px $top_highlight;
  background-color: $headerbar_bg_color;
  color: $headerbar_fg_color;

  &:backdrop {
    box-shadow: inset 0 1px $top_highlight;
  }

  .tiled &,
  .maximized & { &:backdrop, & { border-radius: 0; }}

  & button {
    &.titlebutton {
      background-image: none;
      background-color: transparent;
      background-repeat: no-repeat;
      background-position: center;
      border: none;
      box-shadow: none;
      icon-shadow: none;
      padding: 0;
      text-shadow: none;
      color: transparent;
      image {color: transparent;}

      &:hover,&:active,&:focus,&:checked {
        color: transparent;
        background-color: transparent;
        box-shadow: none;
        animation:none;
        image {color: transparent;}
        &:backdrop,
        &:disabled {
          color: transparent;
          background-color: transparent;
          image {color: transparent;}
        }
      }
      &.close {
        background-image: -gtk-scaled(url("../assets/close.png"),url("../assets/close@2.png"));

        &:hover,&:active {
          background-image: -gtk-scaled(url("../assets/close_prelight.png"),url("../assets/close_prelight@2.png"));
        }
      }

      &.maximize {
        background-image: -gtk-scaled(url("../assets/max.png"),url("../assets/max@2.png"));

        &:hover,&:active {
          background-image: -gtk-scaled(url("../assets/max_prelight.png"),url("../assets/max_prelight@2.png"));
        }
      }

      &.minimize {
        background-image: -gtk-scaled(url("../assets/min.png"),url("../assets/min@2.png"));
        &:hover,&:active {
          background-image: -gtk-scaled(url("../assets/min_prelight.png"),url("../assets/min_prelight@2.png"));
        }
      }
    }
  }
}

.ssd .titlebar {
    border-width: 0;
    box-shadow: none;
}
